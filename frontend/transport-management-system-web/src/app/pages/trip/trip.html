<div class="trips-page">
  <div class="trips-header">
    <h1 class="trips-title">La liste des voyages</h1>

    <div class="trips-header__actions">
      <div class="trips-header__left">
        <mat-form-field appearance="outline" class="trips-search">
          <mat-label>Chercher voyage</mat-label>
          <input
            matInput
            type="text"
            [formControl]="searchControl"
            placeholder="Référence, client, destination"
          />
        </mat-form-field>

        <div class="export-actions" aria-label="Export actions">
          <button mat-icon-button class="export-btn export-excel" (click)="exportExcel()" title="Export Excel">
            <svg viewBox="0 0 24 24" class="export-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <rect x="2" y="3" width="20" height="18" rx="2" fill="#107C10"></rect>
              <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="700" fill="#fff">XLS</text>
            </svg>
          </button>

          <button mat-icon-button class="export-btn export-csv" (click)="exportCSV()" title="Export CSV">
            <svg viewBox="0 0 24 24" class="export-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <rect x="2" y="3" width="20" height="18" rx="2" fill="#1E90FF"></rect>
              <text x="12" y="16" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">CSV</text>
            </svg>
          </button>

          <button mat-icon-button class="export-btn export-pdf" (click)="exportPDF()" title="Export PDF">
            <svg viewBox="0 0 24 24" class="export-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <rect x="2" y="3" width="20" height="18" rx="2" fill="#D32F2F"></rect>
              <text x="12" y="16" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">PDF</text>
            </svg>
          </button>
        </div>
      </div>

      <div class="trips-header__right">
        <button *ngIf="auth.hasPermission('TRAVEL_ADD')"  mat-flat-button class="trips-add-btn" (click)="add()" type="button">
          Ajouter
        </button>
      </div>
    </div>
  </div>

  <app-table
    [PagedData]="pagedTripData"
    [pageIndex]="filter.pageIndex"
    [pageSize]="filter.pageSize"
    [displayedColumns]="showCols"
    (rowClick)="onRowClick($event)"
    (onPageChange)="pageChange($event)">
  </app-table>
</div>